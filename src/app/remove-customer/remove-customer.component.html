<div class="remove-customer-container">
  <!-- Bootstrap Modal for Confirm/Notification -->
  <div class="modal fade" tabindex="-1" [ngClass]="{show: showModal}" [style.display]="showModal ? 'block' : 'none'"
    role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">{{ modalTitle }}</h5>
          <button type="button" class="close btn bg-dark-subtle fs-4 " (click)="closeModal()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>{{ modalMessage }}</p>
        </div>
        <div class="modal-footer" *ngIf="modalType === 'confirm'">
          <button type="button" class="btn btn-danger" (click)="confirmModal()">Yes</button>
          <button type="button" class="btn btn-secondary" (click)="closeModal()">No</button>
        </div>
        <div class="modal-footer" *ngIf="modalType === 'info'">
          <button type="button" class="btn btn-primary" (click)="closeModal()">OK</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Breadcrumb Navigation -->
  <div class="breadcrumb-nav">
    <div class="breadcrumb-content">
      <i class="fas fa-globe"></i>
      <span>Home > Remove Customer</span>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Page Title -->
    <div class="page-header">
      <h1>Remove Customer by SN</h1>
    </div>

    <!-- Search Form -->
    <div class="search-form">
      <form [formGroup]="removeForm" (ngSubmit)="searchCustomer()" class="edit-form">

        <div class="form-field">
          <label for="serial_number" class="form-label">
            Customer SN:
          </label>
          <input type="text" id="serial_number" formControlName="serial_number" class="form-input"
            placeholder="Enter SN (partial or full)">
          <div class="error-message" *ngIf="getErrorMessage()">
            {{ getErrorMessage() }}
          </div>
        </div>

        <!-- Search Button -->
        <div class="form-actions">
          <button type="submit" class="btn btn-primary" [disabled]="!removeForm.valid">
            Search
          </button>
        </div>
      </form>
    </div>


    <!-- Customers Table -->
    <div class="table-container mt-5" *ngIf="customer">
      <table class="customers-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Device SN</th>
            <th>Owner</th>
            <th>Dates</th>
            <th>Registered</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr class="customer-row">

            <td class="customer-name">{{ customer.name }}</td>
            <td class="device-sn">{{ customer.serial_number }}</td>
            <td>{{ customer.owner }}</td>
            <td class="date">
              <div class="date-range">
                <span class="start-date">{{ customer.created_at |date:'medium'}}</span>
                <!-- <span class="date-separator">-</span>
                            <span class="end-date">{{ customer.endDate }}</span> -->
              </div>
            </td>
            <td class="remaining">
              <span class="remaining-text" [class.expired]="customer.status === 'expired'">
                {{ customer.created_at |date:'medium'}}
              </span>
            </td>
            <td class="actions">

              <button class="action-btn delete" (click)="deleteCustomer(customer.id)" title="Delete">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
                  <path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </button>
            </td>
          </tr>

        </tbody>
      </table>
    </div>
  </div>
</div>