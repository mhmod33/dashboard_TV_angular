<div class="login-container">
    <div class="login-card">
        <div class="login-header">
            <div class="logo">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                    <line x1="8" y1="21" x2="16" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <line x1="12" y1="17" x2="12" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </div>
            <h1>EgyBest</h1>
            <p>Admin Panel for TV Service Management</p>
        </div>

        <form class="login-form" (ngSubmit)="onLogin()" #loginForm="ngForm">
            <div class="form-group">
                <label for="email">Email Address</label>
                <div class="input-wrapper">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                    <input type="email" id="email" name="email" [(ngModel)]="email" placeholder="Enter your email"
                        required email #emailInput="ngModel" [class.error]="emailInput.invalid && emailInput.touched" />
                </div>
                <div class="error-message" *ngIf="emailInput.invalid && emailInput.touched">
                    <span *ngIf="emailInput.errors?.['required']">Email is required</span>
                    <span *ngIf="emailInput.errors?.['email']">Please enter a valid email</span>
                </div>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <div class="input-wrapper">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <circle cx="12" cy="16" r="1" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path
                            d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    <input [type]="showPassword ? 'text' : 'password'" id="password" name="password"
                        [(ngModel)]="password" placeholder="Enter your password" required minlength="6"
                        #passwordInput="ngModel" [class.error]="passwordInput.invalid && passwordInput.touched" />
                    <button type="button" class="password-toggle" (click)="togglePassword()"
                        [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'">
                        <svg style="left: -20px !important;" *ngIf="!showPassword" width="20" height="20"
                            viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 12S5 4 12 4S23 12 23 12" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M12 5C13.66 5 15 6.34 15 8C15 9.66 13.66 11 12 11C10.34 11 9 9.66 9 8C9 6.34 10.34 5 12 5Z"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <svg style="left: -20px !important;" *ngIf="showPassword" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65661 6.06 6.06M9.9 4.24C10.5883 4.0789 11.2931 3.99836 12 4C19 4 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1747 15.0074 10.8011 14.8565C10.4275 14.7056 10.0887 14.4811 9.80385 14.1962C9.51903 13.9114 9.29451 13.5726 9.14359 13.199C8.99266 12.8254 8.91858 12.4248 8.92569 12.022C8.9328 11.6192 9.02101 11.2219 9.18495 10.8539C9.34888 10.4859 9.58524 10.1546 9.88 9.88"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            <line x1="1" y1="1" x2="23" y2="23" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
                <div class="error-message" *ngIf="passwordInput.invalid && passwordInput.touched">
                    <span *ngIf="passwordInput.errors?.['required']">Password is required</span>
                    <span *ngIf="passwordInput.errors?.['minlength']">Password must be at least 6 characters</span>
                </div>
            </div>

            <div class="form-options">
                <label class="checkbox-wrapper">
                    <input type="checkbox" [(ngModel)]="rememberMe" name="rememberMe">
                    <span class="checkmark"></span>
                    Remember me
                </label>
                <a href="#" class="forgot-password">Forgot password?</a>
            </div>

            <button type="submit" class="login-button" [disabled]="loginForm.invalid || isLoading"
                [class.loading]="isLoading">
                <span *ngIf="!isLoading">Sign In to EgyBest</span>
                <div *ngIf="isLoading" class="spinner"></div>
            </button>
        </form>

        <div class="login-footer">
            <p>EgyBest TV Service Management System</p>
        </div>
    </div>

    <div class="login-background">
        <div class="background-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
        </div>
    </div>
</div>